---
title: Вы используете больше программного обеспечения с открытым исходным кодом, чем думаете.
description: Пришло время перестать воспринимать инфраструктуру с открытым исходным кодом как нечто само собой разумеющееся.
by: IAA Inc.
time: Июнь 22, 2021
image: https://iaa2005.tk/markdown/20210622AL/index.jpg
type: Алгоритм
---

Тобиас Копперс не работает в Instagram. Он никогда не работал. Но с 2014 года он отвечает за поддержание важного компонента веб-версии Instagram.

Копперс является создателем <a href="https://github.com/webpack/webpack">webpack</a>, инструмента для связывания открытого исходного кода для JavaScript. В принципе, webpack позволяет разделять код, позволяя разработчикам оптимизировать свой код JavaScript и разбивать его на более мелкие фрагменты, чтобы при посещении веб-приложения наиболее важные фрагменты кода загружались первыми. Это делает веб-приложения быстрее, потому что вам не нужно загружать все приложение, прежде чем вы сможете начать его использовать.

Webpack начался в рамках академического проекта в 2012 году. Как и многие другие проекты с открытым исходным кодом, он начинался как способ избавиться от зуда. “Я работал над веб-приложением для своей магистерской диссертации по информатике и искал инструмент оптимизации кода”, - объясняет он в <a href="https://github.com/readme/masters-thesis-to-webpack">недавнем эпизоде</a> подкаста ReadME. Недовольный тем, как другие инструменты обрабатывают разделение кода, он написал свой собственный и выпустил его на GitHub. “Я и раньше вносил свой вклад в открытый исходный код, но никогда раньше не открывал свой собственный проект, поэтому я подумал, что это будет весело”, - говорит он.

Менее чем через три года бывший инженер-менеджер Instagram Пит Хант <a href="https://www.youtube.com/watch?v=VkTCL6Nqm6Y">объяснил</a> на OSCON 2014, что компания полагается на webpack, поставив Копперса в странное положение, поддерживая важную, но практически невидимую часть одного из самых популярных приложений в мире.

Тихая, скрытая роль Webpack в Instagram-отличный пример того, что в нашем программном обеспечении гораздо больше открытого исходного кода, чем может себе представить средний пользователь. Проприетарные приложения и веб — сервисы — даже маловероятные-широко используют открытый исходный код, хотя это не всегда очевидно. Например, бесчисленные приложения iOS, включая Hulu, Poshmark и TikTok, полагаются на сетевую библиотеку с открытым исходным кодом <a href="https://github.com/Alamofire/Alamofire">AlamoFire</a> или ее предшественницу <a href="https://github.com/AFNetworking/AFNetworking">AFnetworking</a> для загрузки изображений и данных, даже если пользователи никогда не взаимодействуют с этими библиотеками напрямую.

> "Тихая, скрытая роль Webpack в Instagram-отличный пример того, как все мы используем в своем программном обеспечении больше открытого исходного кода, чем может себе представить средний пользователь."

Программное обеспечение с открытым исходным кодом часто сравнивается с физической инфраструктурой. Писатель и исследователь Надя Эгбал описывает открытый исходный код как <a href="https://www.fordfoundation.org/work/learning/research-reports/roads-and-bridges-the-unseen-labor-behind-our-digital-infrastructure/">“дороги и мосты” цифрового мира</a>. Но в то время как дороги и мосты являются весьма заметными формами инфраструктуры, открытый исходный код часто остается незамеченным его конечными пользователями.

Библиотеки с открытым исходным кодом, такие как <a href="https://github.com/curl">cURL</a>, являются скрытыми источниками питания, которые многие считают само собой разумеющимися. И, как и их физические аналоги, они должны поддерживаться в рабочем состоянии. cURL включен в большинство дистрибутивов Linux и нуждается в обновлении для поддержки последних веб-стандартов, как и любой стандартный веб-браузер. “Многие люди не понимают, что cURL-это приложение, а не просто функция операционной системы", - говорит создатель cURL Дэниел Стенберг. “И даже те, кто знает об этом, часто задаются вопросом, зачем мне нужно проводить техническое обслуживание.”

Почти невидимость многих проектов с открытым исходным кодом создает ряд проблем для экосистемы с открытым исходным кодом, начиная от финансирования проекта и обеспечения безопасности его кода и заканчивая обеспечением совместимости между его компонентами.

<img class="in-image" src="https://github.com/images/modules/site/readme/unseen-oss/unseen-oss2.jpg">

## Испытания и невзгоды

Безопасность - это самая насущная причина для заботы об инфраструктуре с открытым исходным кодом. Независимо от того, является ли он открытым исходным кодом или проприетарным, код, который не проверяется и не поддерживается, представляет угрозу безопасности для каждого программного обеспечения, которое его использует. Но многие проекты с открытым исходным кодом не создаются и не поддерживаются компаниями, предлагающими контракты на поддержку и гарантии. Вместо этого они создаются разработчиками, часто работающими в свободное время. У этих разработчиков может не быть никого, кто активно исправлял бы уязвимости безопасности, не говоря уже о том, чтобы платить за аудит.

В идеале, в критических проектах с открытым исходным кодом разработчики, работающие полный рабочий день, будут не только исправлять уязвимости, но и “смещать влево” в области безопасности, чтобы <a href="https://github.com/readme/octoverse-security">в первую очередь уменьшить уязвимости</a>. Сегодня разработчики в крупных организациях могут сканировать свой код на наличие уязвимостей при регистрации и устранять проблемы перед развертыванием в рабочей среде, в то время как команды infosec работают с архитекторами программного обеспечения, чтобы обеспечить лучшие практики с самого начала проекта. Но одни и те же ресурсы не всегда доступны для небольших компаний или для отдельных проектов.

Разработчики, работающие полный рабочий день, нуждаются в финансировании. В то время как финансовые модели с открытым исходным кодом были основной темой интереса в последние годы, ни одна модель не работает лучше всего. Многие разработчики нашли стартапы для монетизации своей работы. Другие полагаются на корпоративное спонсорство для финансирования развития на полный рабочий день. Некоторые берут плату за дополнительные консультации и поддержку для финансирования своих проектов. После нескольких лет работы над cURL в свободное время Стенберг перешел на работу в <a href="https://github.com/wolfSSL/wolfssl">wolfSSL</a>, оказывая коммерческую поддержку cURL.

Еще одной популярной моделью финансирования является убеждение работодателя оплачивать работу с открытым исходным кодом в рамках обязанностей разработчика. Для таких разработчиков, как Копперс, это идеальная ситуация. Копперс уволился с работы, чтобы работать над Webpack благодаря корпоративному спонсорству, но теперь работает полный рабочий день над проектом для компании под названием Vercel. Некоторые компании признают, что их бизнес зависит от надежности, безопасности и целостности библиотек с открытым исходным кодом, и в ответ нанимают сопровождающих для работы над их творениями полный или неполный рабочий день, как и любой другой критический элемент инфраструктуры. Кэролин Ван Слик начала работу над системой автоматизации развертывания с открытым исходным кодом <a href="https://github.com/getporter/porter">Porter</a> в свободное от работы время. Теперь его обслуживание является частью ее обязанностей в Microsoft. Но она указывает, что такого рода договоренности не обязательно являются постоянными. Компании не могут финансировать разработку проекта бесконечно, особенно если они прекращают использовать программное обеспечение.

> "Но многие проекты с открытым исходным кодом не создаются и не поддерживаются компаниями, предлагающими контракты на поддержку и гарантии. Вместо этого они создаются разработчиками, часто работающими в свободное время."

Некоторые программы лучше работают в качестве собственного стартапа, но другие проекты не поддаются монетизации. “Тысяча проектов с открытым исходным кодом-это как тысяча стартапов с различными бизнес-моделями”, - сказал Эван Вы, сопровождающий популярного фреймворка JavaScript <a href="https://github.com/readme/evan-you">Vue</a>, на <a href="https://www.youtube.com/watch?v=tcJJkmglPr4">GitHub Universe 2020</a>. “Я в основном занимаюсь краудфандингом, потому что Vue-довольно масштабный проект, но он может не работать для определенных типов проектов.”

Сэмюэл Колвин, сопровождающий популярную библиотеку Python <a href="https://github.com/samuelcolvin/pydantic">pydantic</a>, говорит, что не видит четкого способа монетизации своей работы. pydantic - это библиотека проверки данных. Это помогает разработчикам убедиться, что в приложение вводится правильный тип данных. Например, он может проверить, чтобы убедиться, что, когда приложение ожидает целое число, пользователь не вводит вместо него строку букв.

С одной стороны, pydantic - это широко используемая часть программного обеспечения, ядро других популярных пакетов Python, таких как библиотека обработки естественного языка <a href="https://github.com/explosion/spaCy">SpaCy</a> и <a href="https://github.com/tiangolo/fastapi">FastAPI</a>, третий по популярности фреймворк Python, <a href="https://www.jetbrains.com/lp/python-developers-survey-2020/">согласно опросу более 28 000 разработчиков Python</a>, проведенному в октябре 2020 года. “Это очень важно для того, что мы делаем в SpaCy”, - говорит сопровождающий Инес Монтани. “Существует целая экосистема, построенная вокруг таких инструментов, как pydantic”. С другой стороны, Колвин говорит, что она еще недостаточно велика, чтобы собрать объем спонсорства или пожертвований, которые помогли бы финансировать штатного разработчика для проекта, и нет очевидного способа построить стартап вокруг него.

Кроме того, финансирование не решит всех проблем, с которыми сталкивается современный открытый исходный код. Экосистема с открытым исходным кодом становится все более сложной, и вместе с этой сложностью возникает новое бремя для сопровождающих с открытым исходным кодом, чтобы их проекты были совместимы с другими проектами, кодом и приложениями, с которыми они были разработаны для работы.

Например, в 2017 году команда разработчиков ядра Python <a href="https://www.python.org/dev/peps/pep-0563/">предложила внести изменения</a> в язык программирования, которые частично сломали бы pydantic и, как следствие, все, что от него зависело, включая FastAPI. Колвин не знал, что это изменение будет реализовано до апреля 2021 года, когда он получил электронное письмо от заинтересованного сопровождающего Python. “Он сказал мне, что только что услышал о FastAPI и pydantic и понял, что предложение может повлиять на них”, - объясняет Колвин.

Колвин запустил онлайн-кампанию против этого предложения, и, в конечном счете, команда Python решила отложить изменение, пока они работают над решением. “Я, вероятно, мог бы справиться с ситуацией лучше. Я, наверное, стучал в барабан громче, чем нужно, - говорит Колвин. “Я был действительно впечатлен руководящим комитетом Python, они поняли наши проблемы, и мы будем больше работать с ними в будущем.”

Этот инцидент освещает проблемы, связанные с обслуживанием программного обеспечения. “Отслеживание списков рассылки разработчиков Python само по себе было бы работой на полный рабочий день”,-говорит Колвин. Даже если бы у него не было постоянной работы за пределами pydantic, он не смог бы следить за всем, что происходит в экосистеме Python, что может повлиять на его проект. Точно так же неразумно ожидать, что основные сопровождающие Python поймут внутреннюю работу каждой библиотеки Python, не говоря уже о граничных случаях.

“Даже если у вас есть финансирование, всегда есть больше работы, чем вы можете сделать”, - говорит Ван Слик. “И планка всегда поднимается. Раньше было достаточно просто выложить какой - то код в Интернет. Теперь от вас ожидают, что вы будете воспитывать сообщество. У тебя гораздо больше шляп, которые можно надеть.”

<img class="in-image" src="https://github.com/images/modules/site/readme/unseen-oss/unseen-oss1.jpg">

## Счастье в модульности

Некоторые разработчики нашли безмятежность в открытом исходном коде, сосредоточившись на создании небольших, более управляемых пакетов кода и намеренно надевая меньше шляп. “Мне не нравится проектировать вещи, которые требуют большого обслуживания”, - говорит Джеймс Холлидей, создатель сотен Node.js модули. “Я стараюсь свести свои модули к минимуму. Я думаю, что многие инструменты были бы лучше, если бы люди перестали работать над ними, перестали менять вещи без причины.” Чем больше функций, тем сложнее, и каждое изменение приводит к появлению новых ошибок.

Halliday, более известный как <a href="https://github.com/substack">substack</a>, придерживается необычного подхода к своей работе. “У меня отключены все мои электронные письма с уведомлениями на GitHub”, - говорит он. Если кто-то обнаружит проблему с его кодом или захочет добавить функцию в модуль, над которым он больше не работает, он может раскошелиться на его код. В конце концов, это способ с открытым исходным кодом. Но он не прилагает усилий для решения проблем или получения запросов на пакеты, которые он считает законченными. “Это не моя работа-очень часто следить за каждой мелочью, которую я написал много лет или десятилетий назад”, - говорит он. “Я всегда занят новыми проектами, и если бы я всегда оглядывался на старые проекты, у меня не было бы достаточно времени, чтобы двигаться вперед.”

Не существует идеального процесса разработки, который работал бы для всех разработчиков с открытым исходным кодом. Многие из них с удовольствием поддерживают свои проекты или работают с сообществом над улучшениями. Менее экстремальная версия менталитета “меньше значит больше” становится все более популярной альтернативой поддержанию крупных проектов и сообществ. Как отметила Эгбал в своей книге "Работа на публике: Создание и обслуживание программного обеспечения с открытым исходным кодом", добавление большего количества участников в проект может фактически создать больше работы для сопровождающих, поскольку сопровождающие могут быстро оказаться на крючке, чтобы не только просматривать код других людей, но и поддерживать новые функции, если эти участники в конечном итоге покинут проект. Эгбал определил тенденцию к более модульному проектированию и разработке с открытым исходным кодом, когда сопровождающие создают меньшие пакеты, которые требуют меньше сопровождающих и меньше работы для обслуживания. Даже более крупные проекты, такие как Ruby on Rails, используют более модульный подход.

Между тем, <a href="https://octoverse.github.com/">GitHub’s 2020 State of the Octoverse</a> показал, что разработчики с открытым исходным кодом все больше сосредотачиваются на внесении небольших, более постепенных изменений, которые создают меньше накладных расходов для сопровождающих. “Лучшей практикой номер один было сохранение небольшого объема запросов на вытягивание, потому что это облегчает проверку, приводит к лучшим проверкам и облегчает возврат в случае возникновения проблем”, - говорится в отчете. “Это также упрощает обратную связь, создавая импульс и способствуя повышению производительности команды.”

Хотя этот более модульный подход может облегчить жизнь сопровождающим с открытым исходным кодом, он может создать новые проблемы для предприятий, поскольку он увеличивает общее количество различных пакетов, которые им необходимо проверять и обновлять “Площадь потенциальных проблем больше, так как существует больше зависимостей, каждая из которых управляется другим разработчиком”, - написал Эгбал.

В некотором смысле это стоимость использования свободного программного обеспечения. “Помните, что сопровождающие с открытым исходным кодом, как правило, выполняют эту работу для большего блага, часто без какой-либо компенсации, и не имеют большого контроля над тем, как их программное обеспечение используется или модифицируется другими людьми", - говорит генеральный директор GitHub Майк Хэнли. “Если вы зависите от стороннего программного обеспечения и программного обеспечения с открытым исходным кодом, вы обязаны провести некоторую должную проверку того, что вы включаете в свой проект и как вы его используете. Подумайте о том, чтобы поделиться любыми улучшениями, интересными примерами использования или исправлениями ошибок, которые вы найдете в проекте.”

Помимо этого, у компаний и частных лиц есть множество возможностей для более активного участия в сообществах с открытым исходным кодом, на которые они полагаются, — от финансирования и обслуживания до поддержки сообществ, где их еще нет. Все начинается с более пристального взгляда на программное обеспечение, стоящее за вашим кодом, и просмотра ранее невидимой инфраструктуры, которая его питает.